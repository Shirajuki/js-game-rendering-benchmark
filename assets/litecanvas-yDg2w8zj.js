import{E as te}from"./engine-4ZHbU-ty.js";const ne=p=>{const f=new AudioContext;return p.zzfxV=1,(g=1,c=.05,A=220,T=0,w=0,D=.1,k=0,O=1,s=0,J=0,N=0,j=0,I=0,d=0,S=0,l=0,x=0,B=1,H=0,$=0,R=0)=>{let E=Math,M=2*E.PI,y=44100,P=s*=500*M/y/y,Z=A*=(1-c+2*c*E.random(c=[]))*M/y,C=0,X=0,z=0,Q=1,q=0,m=0,F=0,L=R<0?-1:1,U=M*L*R*2/y,Y=E.cos(U),G=E.sin,ee=G(U)/4,V=1+ee,e=-2*Y/V,a=(1-ee)/V,n=(1+L*Y)/2/V,r=-(L+Y)/V,i=n,u=0,b=0,W=0,o=0;for(T=y*T+9,H*=y,w*=y,D*=y,x*=y,J*=500*M/y**3,S*=M/y,N*=M/y,j*=y,I=y*I|0,g*=.3*p.zzfxV,L=T+H+w+D+x|0;z<L;c[z++]=F*g)++m%(100*l|0)||(F=k?1<k?2<k?3<k?G(C*C):E.max(E.min(E.tan(C),1),-1):1-(2*C/M%2+2)%2:1-4*E.abs(E.round(C/M)-C/M):G(C),F=(I?1-$+$*G(M*z/I):1)*(F<0?-1:1)*E.abs(F)**O*(z<T?z/T:z<T+H?1-(z-T)/H*(1-B):z<T+H+w?B:z<L-x?(L-z-x)/D*B:0),F=x?F/2+(x>z?0:(z<L-x?1:(L-z)/x)*c[z-x|0]/2/g):F,R&&(F=o=i*u+r*(u=b)+n*(b=F)-a*W-e*(W=o))),U=(A+=s+=J)*E.cos(S*X++),C+=U+U*d*G(z**5),Q&&++Q>j&&(A+=N,Z+=N,Q=0),!I||++q%I||(A=Z,s=P,Q=Q||1);g=f.createBuffer(1,L,y),g.getChannelData(0).set(c),A=f.createBufferSource(),A.buffer=g,A.connect(f.destination),A.start()}},ae=["#111","#6a7799","#aec2c2","#FFF1E8","#e83b3b","#fabc20","#155fd9","#3cbcfc","#327345","#63c64d","#6c2c1f","#ac7c00"],t=(p,f="Assertion failed")=>{if(!p)throw new Error(f)},se="0.99.0";function re(p={}){const f=window,g=Math,c=g.PI*2,A=requestAnimationFrame,T=[],w=(e,a,n)=>{e.addEventListener(a,n,!1),T.push(()=>e.removeEventListener(a,n,!1))},D=e=>e.toLowerCase(),k=e=>e.preventDefault(),O=e=>e.beginPath(),s=Number.isFinite,J=ne(f);p=Object.assign({width:null,height:null,autoscale:!0,canvas:null,global:!0,loop:null,tapEvents:!0,keyboardEvents:!0},p);let j=!1,I=!0,d,S=1,l,x=.5,B=1,H,$=1e3/60,R,E,M="sans-serif",y=20,P=Date.now(),Z=ae,C=[],X=[.5,0,1750,,,.3,1,,,,600,.1],z="init,update,draw,tap,untap,tapping,tapped,resized",Q="PI,sin,cos,atan2,hypot,tan,abs,ceil,floor,trunc,min,max,pow,sqrt,sign,exp",q={};const m={W:0,H:0,T:0,MX:-1,MY:-1,TWO_PI:c,HALF_PI:c/4,lerp:(e,a,n)=>(t(s(e),"[litecanvas] lerp() 1st param must be a number"),t(s(a),"[litecanvas] lerp() 2nd param must be a number"),t(s(n),"[litecanvas] lerp() 3rd param must be a number"),n*(a-e)+e),deg2rad:e=>(t(s(e),"deg2rad: 1st param must be a number"),g.PI/180*e),rad2deg:e=>(t(s(e),"rad2deg: 1st param must be a number"),180/g.PI*e),round:(e,a=0)=>{if(t(s(e),"[litecanvas] round() 1st param must be a number"),t(s(a)&&a>=0,"[litecanvas] round() 2nd param must be a positive number or zero"),!a)return g.round(e);const n=10**a;return g.round(e*n)/n},clamp:(e,a,n)=>(t(s(e),"[litecanvas] clamp() 1st param must be a number"),t(s(a),"[litecanvas] clamp() 2nd param must be a number"),t(s(n),"[litecanvas] clamp() 3rd param must be a number"),t(n>a,"[litecanvas] clamp() the 2nd param must be less than the 3rd param"),e<a?a:e>n?n:e),wrap:(e,a,n)=>(t(s(e),"[litecanvas] wrap() 1st param must be a number"),t(s(a),"[litecanvas] wrap() 2nd param must be a number"),t(s(n),"[litecanvas] wrap() 3rd param must be a number"),t(n>a,"[litecanvas] wrap() the 2nd param must be less than the 3rd param"),e-(n-a)*g.floor((e-a)/(n-a))),map(e,a,n,r,i,u){t(s(e),"[litecanvas] map() 1st param must be a number"),t(s(a),"[litecanvas] map() 2nd param must be a number"),t(s(n),"[litecanvas] map() 3rd param must be a number"),t(s(r),"[litecanvas] map() 4th param must be a number"),t(s(i),"[litecanvas] map() 5th param must be a number"),t(n!==a,"[litecanvas] map() the 2nd param must be different than the 3rd param");const b=(e-a)/(n-a)*(i-r)+r;return u?m.clamp(b,r,i):b},norm:(e,a,n)=>(t(s(e),"[litecanvas] norm() 1st param must be a number"),t(s(a),"[litecanvas] norm() 2nd param must be a number"),t(s(n),"[litecanvas] norm() 3rd param must be a number"),t(a!==n,"[litecanvas] norm() the 2nd param must be different than the 3rd param"),m.map(e,a,n,0,1)),wave:(e,a,n,r=Math.sin)=>(t(s(e),"[litecanvas] wave() 1st param must be a number"),t(s(a),"[litecanvas] wave() 2nd param must be a number"),t(s(n),"[litecanvas] wave() 3rd param must be a number"),t(typeof r=="function","[litecanvas] wave() 4rd param must be a function (n: number) => number"),e+(r(n)+1)/2*(a-e)),rand:(e=0,a=1)=>{t(s(e),"[litecanvas] rand() 1st param must be a number"),t(s(a),"[litecanvas] rand() 2nd param must be a number"),t(a>e,"[litecanvas] rand() the 1st param must be less than the 2nd param");const n=1664525,r=1013904223,i=4294967296;return P=(n*P+r)%i,P/i*(a-e)+e},randi:(e=0,a=1)=>(t(s(e),"[litecanvas] randi() 1st param must be a number"),t(s(a),"[litecanvas] randi() 2nd param must be a number"),t(a>e,"[litecanvas] randi() the 1st param must be less than the 2nd param"),g.floor(m.rand(e,a+1))),rseed(e){t(s(e)&&e>=0,"[litecanvas] rseed() 1st param must be a positive integer or zero"),P=~~e},cls(e){t(e==null||s(e)&&e>=0,"[litecanvas] cls() 1st param must be a positive number or zero or undefined"),e==null?l.clearRect(0,0,l.canvas.width,l.canvas.height):m.rectfill(0,0,l.canvas.width,l.canvas.height,e)},rect(e,a,n,r,i,u){t(s(e),"[litecanvas] rect() 1st param must be a number"),t(s(a),"[litecanvas] rect() 2nd param must be a number"),t(s(n)&&n>0,"[litecanvas] rect() 3rd param must be a positive number"),t(s(r)&&r>=0,"[litecanvas] rect() 4th param must be a positive number or zero"),t(i==null||s(i)&&i>=0,"[litecanvas] rect() 5th param must be a positive number or zero"),t(u==null||s(u)||Array.isArray(u)&&u.length>=1,"[litecanvas] rect() 6th param must be a number or array of numbers"),O(l),l[u?"roundRect":"rect"](~~e-x,~~a-x,~~n+x*2,~~r+x*2,u),m.stroke(i)},rectfill(e,a,n,r,i,u){t(s(e),"[litecanvas] rectfill() 1st param must be a number"),t(s(a),"[litecanvas] rectfill() 2nd param must be a number"),t(s(n)&&n>=0,"[litecanvas] rectfill() 3rd param must be a positive number or zero"),t(s(r)&&r>=0,"[litecanvas] rectfill() 4th param must be a positive number or zero"),t(i==null||s(i)&&i>=0,"[litecanvas] rectfill() 5th param must be a positive number or zero"),t(u==null||s(u)||Array.isArray(u)&&u.length>=1,"[litecanvas] rectfill() 6th param must be a number or array of at least 2 numbers"),O(l),l[u?"roundRect":"rect"](~~e,~~a,~~n,~~r,u),m.fill(i)},circ(e,a,n,r){t(s(e),"[litecanvas] circ() 1st param must be a number"),t(s(a),"[litecanvas] circ() 2nd param must be a number"),t(s(n)&&n>=0,"[litecanvas] circ() 3rd param must be a positive number or zero"),t(r==null||s(r)&&r>=0,"[litecanvas] circ() 4th param must be a positive number or zero"),O(l),l.arc(~~e,~~a,~~n,0,c),m.stroke(r)},circfill(e,a,n,r){t(s(e),"[litecanvas] circfill() 1st param must be a number"),t(s(a),"[litecanvas] circfill() 2nd param must be a number"),t(s(n)&&n>=0,"[litecanvas] circfill() 3rd param must be a positive number or zero"),t(r==null||s(r)&&r>=0,"[litecanvas] circfill() 4th param must be a positive number or zero"),O(l),l.arc(~~e,~~a,~~n,0,c),m.fill(r)},oval(e,a,n,r,i){t(s(e),"[litecanvas] oval() 1st param must be a number"),t(s(a),"[litecanvas] oval() 2nd param must be a number"),t(s(n)&&n>=0,"[litecanvas] oval() 3rd param must be a positive number or zero"),t(s(r)&&r>=0,"[litecanvas] oval() 4th param must be a positive number or zero"),t(i==null||s(i)&&i>=0,"[litecanvas] oval() 5th param must be a positive number or zero"),O(l),l.ellipse(~~e,~~a,~~n,~~r,0,0,c),m.stroke(i)},ovalfill(e,a,n,r,i){t(s(e),"[litecanvas] ovalfill() 1st param must be a number"),t(s(a),"[litecanvas] ovalfill() 2nd param must be a number"),t(s(n)&&n>=0,"[litecanvas] ovalfill() 3rd param must be a positive number or zero"),t(s(r)&&r>=0,"[litecanvas] ovalfill() 4th param must be a positive number or zero"),t(i==null||s(i)&&i>=0,"[litecanvas] ovalfill() 5th param must be a positive number or zero"),O(l),l.ellipse(~~e,~~a,~~n,~~r,0,0,c),m.fill(i)},line(e,a,n,r,i){t(s(e),"[litecanvas] line() 1st param must be a number"),t(s(a),"[litecanvas] line() 2nd param must be a number"),t(s(n),"[litecanvas] line() 3rd param must be a positive number or zero"),t(s(r),"[litecanvas] line() 4th param must be a positive number or zero"),t(i==null||s(i)&&i>=0,"[litecanvas] line() 5th param must be a positive number or zero"),O(l);let u=x!==0&&~~e===~~n?.5:0,b=x!==0&&~~a===~~r?.5:0;l.moveTo(~~e+u,~~a+b),l.lineTo(~~n+u,~~r+b),m.stroke(i)},linewidth(e){t(s(e)&&e>=0,"[litecanvas] linewidth() 1st param must be a positive number or zero"),l.lineWidth=~~e,x=~~e%2===0?0:.5},linedash(e,a=0){t(Array.isArray(e)&&e.length>0,"[litecanvas] linedash() 1st param must be an array of numbers"),t(s(a),"[litecanvas] linedash() 2nd param must be a number"),l.setLineDash(e),l.lineDashOffset=a},text(e,a,n,r=3,i="normal"){t(s(e),"[litecanvas] text() 1st param must be a number"),t(s(a),"[litecanvas] text() 2nd param must be a number"),t(r==null||s(r)&&r>=0,"[litecanvas] text() 4th param must be a positive number or zero"),t(typeof i=="string","[litecanvas] text() 5th param must be a string"),l.font=`${i} ${y}px ${M}`,l.fillStyle=V(r),l.fillText(n,~~e,~~a)},textfont(e){t(typeof e=="string","[litecanvas] textfont() 1st param must be a string"),M=e},textsize(e){t(s(e),"[litecanvas] textsize() 1st param must be a number"),y=e},textalign(e,a){t(e==null||["left","right","center","start","end"].includes(e),"[litecanvas] textalign() 1st param must be null or one of the following strings: center, left, right, start or end."),t(a==null||["top","bottom","middle","hanging","alphabetic","ideographic"].includes(a),"[litecanvas] textalign() 2nd param must be null or one of the following strings: middle, top, bottom, hanging, alphabetic or ideographic."),e&&(l.textAlign=e),a&&(l.textBaseline=a)},image(e,a,n){t(s(e),"[litecanvas] image() 1st param must be a number"),t(s(a),"[litecanvas] image() 2nd param must be a number"),l.drawImage(n,~~e,~~a)},spr(e,a,n,r,i){t(s(e),"[litecanvas] spr() 1st param must be a number"),t(s(a),"[litecanvas] spr() 2nd param must be a number"),t(s(n),"[litecanvas] spr() 3rd param must be a number"),t(s(r),"[litecanvas] spr() 4th param must be a number"),t(typeof i=="string","[litecanvas] spr() 5th param must be a string");const u=i.replace(/\s/g,"");for(let b=0;b<n;b++)for(let W=0;W<r;W++){const o=u[n*W+b]||".";o!=="."&&m.rectfill(e+b,a+W,1,1,parseInt(o,36)||0)}},paint(e,a,n,r={}){t(s(e)&&e>=1,"[litecanvas] paint() 1st param must be a positive number"),t(s(a)&&a>=1,"[litecanvas] paint() 2nd param must be a positive number"),t(typeof n=="function","[litecanvas] paint() 3rd param must be a function"),t(r&&r.scale==null||s(r.scale),"[litecanvas] paint() 4th param (options.scale) must be a number"),t(r&&r.canvas==null||r.canvas instanceof OffscreenCanvas,"[litecanvas] paint() 4th param (options.canvas) must be an OffscreenCanvas");const i=r.canvas||new OffscreenCanvas(1,1),u=r.scale||1,b=l;return i.width=e*u,i.height=a*u,l=i.getContext("2d"),l.scale(u,u),n(l),l=b,i.transferToImageBitmap()},ctx(e){return e&&(l=e),l},push(){l.save()},pop(){l.restore()},translate(e,a){t(s(e),"[litecanvas] translate() 1st param must be a number"),t(s(a),"[litecanvas] translate() 2nd param must be a number"),l.translate(~~e,~~a)},scale(e,a){t(s(e),"[litecanvas] scale() 1st param must be a number"),t(a==null||s(a),"[litecanvas] scale() 2nd param must be a number"),l.scale(e,a||e)},rotate(e){t(s(e),"[litecanvas] rotate() 1st param must be a number"),l.rotate(e)},alpha(e){t(s(e),"[litecanvas] alpha() 1st param must be a number"),l.globalAlpha=m.clamp(e,0,1)},fill(e){t(e==null||s(e)&&e>=0,"[litecanvas] fill() 1st param must be a positive number or zero"),l.fillStyle=V(e),l.fill()},stroke(e){t(e==null||s(e)&&e>=0,"[litecanvas] stroke() 1st param must be a positive number or zero"),l.strokeStyle=V(e),l.stroke()},clip(e){t(typeof e=="function","[litecanvas] clip() 1st param must be a function"),O(l),e(l),l.clip()},sfx(e,a=0,n=1){return t(e==null||Array.isArray(e),"[litecanvas] sfx() 1st param must be an array"),t(s(a),"[litecanvas] sfx() 2nd param must be a number"),t(s(n),"[litecanvas] sfx() 3rd param must be a number"),!f.zzfxV||navigator.userActivation&&!navigator.userActivation.hasBeenActive?!1:(e=e||X,(a!==0||n!==1)&&(e=e.slice(),e[0]=n*(e[0]||1),e[10]=~~e[10]+a),J.apply(0,e),e)},volume(e){t(s(e)&&e>=0,"[litecanvas] volume() 1st param must be a positive number or zero"),f.zzfxV=e},canvas:()=>d,use(e,a={}){t(typeof e=="function","[litecanvas] use() 1st param must be a function"),t(typeof a=="object","[litecanvas] use() 2nd param must be an object"),ee(e,a)},listen(e,a){return t(typeof e=="string","[litecanvas] listen() 1st param must be a string"),t(typeof a=="function","[litecanvas] listen() 2nd param must be a function"),e=D(e),q[e]=q[e]||new Set,q[e].add(a),()=>q&&q[e].delete(a)},emit(e,a,n,r,i){t(typeof e=="string","[litecanvas] emit() 1st param must be a string"),j&&(e=D(e),G("before:"+e,a,n,r,i),G(e,a,n,r,i),G("after:"+e,a,n,r,i))},pal(e=ae){t(Array.isArray(e)&&e.length>0,"[litecanvas] pal() 1st param must be a array of strings"),Z=e,C=[]},palc(e,a){t(e==null||s(e)&&e>=0,"[litecanvas] palc() 1st param must be a positive number"),t(s(e)?s(a)&&a>=0:a==null,"[litecanvas] palc() 2nd param must be a positive number"),e==null?C=[]:C[e]=a},def(e,a){t(typeof e=="string","[litecanvas] def() 1st param must be a string"),a==null&&console.warn(`[litecanvas] def() changed the key "${e}" to null (previous value was ${m[e]})`),m[e]=a,p.global&&(f[e]=a)},timescale(e){t(s(e)&&e>=0,"[litecanvas] timescale() 1st param must be a positive number or zero"),B=e},framerate(e){t(s(e)&&e>=1,"[litecanvas] framerate() 1st param must be a positive number"),$=1e3/~~e},stat(e){t(s(e)||typeof e=="string","[litecanvas] stat() 1st param must be a number or string");const a=[p,j,$/1e3,S,q,Z,X,B,f.zzfxV,P,y,M,C],n={index:e,value:a[e]};return m.emit("stat",n),n.value},pause(){I=!0,cancelAnimationFrame(E)},resume(){t(j,'[litecanvas] resume() cannot be called before the "init" event and neither after the quit() function'),j&&I&&(I=!1,R=$,H=Date.now(),E=A(L))},paused(){return I},quit(){m.emit("quit"),m.pause(),j=!1,q={};for(const e of T)e();if(p.global){for(const e in m)delete f[e];delete f.ENGINE}console.warn("[litecanvas] quit() terminated a Litecanvas instance.")}};for(const e of Q.split(","))m[e]=g[e];function F(){const e=p.loop?p.loop:f;for(const a of z.split(","))f===e&&e[a]&&console.info(`[litecanvas] using window.${a}()`),e[a]&&m.listen(a,e[a]);if(p.autoscale&&w(f,"resize",Y),p.tapEvents){const a=o=>[(o.pageX-d.offsetLeft)/S,(o.pageY-d.offsetTop)/S],n=new Map,r=(o,h,v)=>{const _={x:h,y:v,xi:h,yi:v,t:Date.now()};return n.set(o,_),_},i=(o,h,v)=>{const _=n.get(o)||r(o);_.x=h,_.y=v},u=o=>o&&Date.now()-o.t<=300;let b=!1;w(d,"mousedown",o=>{if(o.button===0){k(o);const[h,v]=a(o);m.emit("tap",h,v,0),r(0,h,v),b=!0}}),w(d,"mouseup",o=>{if(o.button===0){k(o);const h=n.get(0),[v,_]=a(o);u(h)&&m.emit("tapped",h.xi,h.yi,0),m.emit("untap",v,_,0),n.delete(0),b=!1}}),w(f,"mousemove",o=>{k(o);const[h,v]=a(o);m.def("MX",h),m.def("MY",v),b&&(m.emit("tapping",h,v,0),i(0,h,v))}),w(d,"touchstart",o=>{k(o);const h=o.changedTouches;for(const v of h){const[_,K]=a(v);m.emit("tap",_,K,v.identifier+1),r(v.identifier+1,_,K)}}),w(d,"touchmove",o=>{k(o);const h=o.changedTouches;for(const v of h){const[_,K]=a(v);m.emit("tapping",_,K,v.identifier+1),i(v.identifier+1,_,K)}});const W=o=>{k(o);const h=[];if(o.targetTouches.length>0)for(const v of o.targetTouches)h.push(v.identifier+1);for(const[v,_]of n)h.includes(v)||(u(_)&&m.emit("tapped",_.xi,_.yi,v),m.emit("untap",_.x,_.y,v),n.delete(v))};w(d,"touchend",W),w(d,"touchcancel",W),w(f,"blur",()=>{b=!1;for(const[o,h]of n)m.emit("untap",h.x,h.y,o),n.delete(o)})}if(p.keyboardEvents){const a=new Set,n=new Set,r=(u,b="")=>(b=D(b),b?u.has(b==="space"?" ":b):u.size>0);let i="";w(f,"keydown",u=>{const b=D(u.key);a.has(b)||(a.add(b),n.add(b),i=b===" "?"space":b)}),w(f,"keyup",u=>{a.delete(D(u.key))}),w(f,"blur",()=>a.clear()),m.listen("after:update",()=>n.clear()),m.def("iskeydown",u=>(t(u==null||typeof u=="string","[litecanvas] iskeydown() 1st param must be a string or undefined"),r(a,u))),m.def("iskeypressed",u=>(t(u==null||typeof u=="string","[litecanvas] iskeypressed() 1st param must be a string or undefined"),r(n,u))),m.def("lastkey",()=>i)}j=!0,m.emit("init",m),m.resume()}function L(){E=A(L);let e=Date.now(),a=0,n=e-H;for(H=e,R+=n<100?n:$;R>=$;){a++,R-=$;let r=$/1e3*B;m.emit("update",r,a),m.def("T",m.T+r)}a&&(m.emit("draw",l),a>1&&(R=0,console.warn("[litecanvas] the last frame updated "+a+" times. This can drop the FPS if it keeps happening.")))}function U(){typeof p.canvas=="string"?(d=document.querySelector(p.canvas),t(d!=null,'[litecanvas] litecanvas() option "canvas" is an invalid CSS selector')):d=p.canvas,d=d||document.createElement("canvas"),t(d.tagName==="CANVAS",'[litecanvas] litecanvas() option "canvas" should be a canvas element or string (CSS selector)'),l=d.getContext("2d"),w(d,"click",()=>focus()),Y(),d.parentNode||document.body.appendChild(d),d.style.imageRendering="pixelated",d.oncontextmenu=()=>!1}function Y(){t(p.width==null||s(p.width)&&p.width>0,'[litecanvas] litecanvas() option "width" should be a positive number when defined'),t(p.height==null||s(p.height)&&p.height>0,'[litecanvas] litecanvas() option "height" should be a positive number when defined'),t(p.height==null||p.width>0&&p.height>0,'[litecanvas] litecanvas() option "width" is required when the option "height" is defined');const e=p.width>0?p.width:innerWidth,a=p.width>0?p.height||p.width:innerHeight;if(m.def("W",e),m.def("H",a),d.width=e,d.height=a,p.autoscale){let n=+p.autoscale;d.style.display||(d.style.display="block",d.style.margin="auto"),S=g.min(innerWidth/e,innerHeight/a),S=n>1&&S>n?n:S,d.style.width=e*S+"px",d.style.height=a*S+"px"}l.imageSmoothingEnabled=!1,m.textalign("start","top"),m.emit("resized",S)}function G(e,a,n,r,i){if(q[e])for(const u of q[e])u(a,n,r,i)}function ee(e,a){const n=e(m,a);t(n==null||typeof n=="object","[litecanvas] litecanvas() plugins should return an object or nothing");for(const r in n)m.def(r,n[r])}function V(e){const a=C[e]??e;return Z[~~a%Z.length]}if(p.global){if(f.ENGINE)throw new Error("only one global litecanvas is allowed");Object.assign(f,m),f.ENGINE=m}return console.info(`[litecanvas] version ${se} started`),console.debug("[litecanvas] litecanvas() options =",p),U(),document.readyState==="loading"?w(f,"DOMContentLoaded",()=>A(F)):E=A(F),m}class ie extends te{init(){super.init(),this.canvas.innerHTML="",window.cancelAnimationFrame(this.request),this.engine||(this.engine=re({canvas:this.canvas,width:this.width,height:this.height,autoscale:!1,animate:!1,loop:{},global:!1})),this.type==="sprite"&&(this.sprite=new Image,this.sprite.src="sprite.png");const f=new Array(this.count),g=[1,-1];for(let c=0;c<this.count;c++){const A=10+Math.random()*80,T=Math.random()*this.width,w=Math.random()*(this.height-A),[D,k]=[3*Math.random()*g[Math.floor(Math.random()*2)],3*Math.random()*g[Math.floor(Math.random()*2)]];f[c]={x:T,y:w,size:A,dx:D,dy:k}}this.particles=f}render(){this.engine.cls();const f=this.particles;for(let g=0;g<this.count;g++){const c=f[g];c.x-=c.dx,c.y-=c.dy,c.x+c.size<0?c.dx*=-1:c.y+c.size<0&&(c.dy*=-1),c.x>this.width?c.dx*=-1:c.y>this.height&&(c.dy*=-1),this.type==="sprite"?this.sprite.complete&&this.engine.image(c.x,c.y,this.sprite):(this.type==="fill"&&(this.engine.circfill(c.x,c.y,c.size,3),this.engine.stroke(0)),this.type!="sprite"&&this.engine.circ(c.x,c.y,c.size,3))}this.fpsmeter.tick(),this.request=window.requestAnimationFrame(()=>this.render())}}document.addEventListener("DOMContentLoaded",()=>{new ie().render()});
